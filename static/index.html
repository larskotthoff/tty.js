<!doctype html>
<html>
<head>
<title>Recomputation test</title>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="user.css">
</head>

<body>
<h1>Recomputation test</h1>

<button id="open" disabled="disabled">Open Terminal</button>

<button id="control" onclick="controlVM()">Start VM</button>

<table id="vms">
<tr><th>VM</th><th>Status</th></tr>
</table>

<script src="socket.io/socket.io.js"></script>
<script src="term.js"></script>
<script src="options.js"></script>
<script src="tty.js"></script>
<script src="user.js"></script>
<script type="text/javascript">

listVMs(function(vms) {
  vms.forEach(function(vm) {
      var tr = document.createElement("tr"),
          tdn = document.createElement("td"),
          tds = document.createElement("td");

      document.getElementById("vms").appendChild(tr);
      tr.appendChild(tdn);
      tr.appendChild(tds);

      tdn.innerHTML = vm;
      getVMStatus(vm, function(data) {
          if(data.match("running")) {
              tds.innerHTML = "running";
          } else if(data.match("poweroff")) {
              tds.innerHTML = "stopped";
          }
      })
  });
});

</script>
</body>
</html>
